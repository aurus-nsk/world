CREATE DATABASE world
  WITH OWNER = postgres
       ENCODING = 'UTF8'
       TABLESPACE = pg_default
       LC_COLLATE = 'C'
       LC_CTYPE = 'C'
       CONNECTION LIMIT = -1;
\c world;

create table city (id serial PRIMARY KEY, name varchar(255) NOT NULL, square numeric NOT NULL, population int NOT NULL );

INSERT INTO city(name, square, population) VALUES('Москва', 2561.5, 12380664);
INSERT INTO city(name, square, population) VALUES ('Новосибирск',505.62, 1602915);
INSERT INTO city(name, square, population) VALUES ('Сочи', 176.77, 401291);

create table street (id serial PRIMARY KEY, name varchar(255) NOT NULL, extent int NOT NULL);

INSERT INTO street(name, extent) VALUES ('Титова', 4550);
INSERT INTO street(name, extent) VALUES ('Красный проспект', 6700);
INSERT INTO street(name, extent) VALUES ('Ленина', 2400);

create table organization (id serial PRIMARY KEY, name varchar(255) NOT NULL, city_id int REFERENCES City(id), street_id int REFERENCES Street(id), home_number varchar(255),scope varchar(255) NOT NULL, website varchar(255), date_update timestamp NOT NULL);

INSERT INTO organization(name, city_id, street_id, home_number, scope, website, date_update) 
VALUES ('Альфа-Банк', 2, 3, 10, 'Банк', 'alfabank.ru', now());
INSERT INTO organization(name, city_id, street_id, home_number, scope, website, date_update) 
VALUES ('Сбербанк', 2, 2, 55, 'Банк', 'sberbank.ru', now());
INSERT INTO organization(name, city_id, street_id, home_number, scope, website, date_update) 
VALUES ('Ингосстрах', 2, 1, 1, 'Страхование', 'ingos.ru', now());

create table phones (id serial PRIMARY KEY, number varchar(255), organization_id int REFERENCES organization(id));

INSERT INTO phones(number, organization_id) VALUES ('+79231112233', 1);
INSERT INTO phones(number, organization_id) VALUES ('+79235554455', 1);
INSERT INTO phones(number, organization_id) VALUES ('3807711', 2);
INSERT INTO phones(number, organization_id) VALUES ('2501010', 3);

find all org with phones
SELECT org.id, org.name, org.home_number, org.scope, org.date_update, phone.id, phone.number, city.id, city.name, city.square, city.population, street.id, street.name, street.extent FROM organization org left join phones phone on org.id = phone.organization_id inner join city ON org.city_id = city.id inner join street ON org.street_id = street.id;

find org by name
SELECT org.id, org.name, org.home_number, org.scope, org.date_update, phone.id, phone.number, city.id, city.name, city.square, city.population, street.id, street.name, street.extent FROM organization org left join phones phone on org.id = phone.organization_id inner join city ON org.city_id = city.id inner join street ON org.street_id = street.id WHERE org.name = 'Сбербанк'